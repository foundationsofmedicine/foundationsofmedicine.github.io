<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
     <!-- Compiled and minified JavaScript -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
     <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
     <title>OSCE Exam: 10000006</title>

    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
            var elems = document.querySelectorAll('.modal');
            var instances = M.Modal.init(elems);
        });
    </script>
</head>
<style>
    .page-details{
        margin: 20px
    }
    .prompts{
        margin: auto
    }
</style>
<body>
    <!-- Code for Navigation bar -->
    <nav>
        <div class="nav-wrapper grey darken-2" >
          <a href="../../../" class="brand-logo right" style="margin-right: 10px">Foundations of Clinical Medicine</a>
          <ul id="nav-mobile" class="left hide-on-med-and-down">
            <li><a href="../../../">Home</a></li>
            <li><a href="../../../basicscience">Basic Clinical Sciences</a></li>
            <li><a href="../../">Clinical Medicine</a></li>
          </ul>
        </div>
      </nav>
      <!-- <nav>
        <div class="nav-wrapper">
          <div class="col s12">
            <a href="../../.." class="breadcrumb">Foundations of Medicine</a>
            <a href="../../" class="breadcrumb">Clinical Medicine</a>
            <a href="../" class="breadcrumb">OSCE</a>
            <a href="/" class="breadcrumb">10000006: Lower back exam</a>
          </div>
        </div>
      </nav> -->
    <div class="page_details container">
            <!-- Code for OSCE Identifier -->
        <br/>   
        <a class="waves-effect waves-light btn-small teal accent-4" href="../">Back to OSCE list</a>
        <h1>OSCE ID: 10000006</h1>
        <!-- Code for Student name -->
        <input placeholder="Student Name" id="name" type="text" class="validate">
        <label for="first_name"></label>
        <!-- Code for toggle-able modal for QR code -->
        <!-- Modal Trigger -->
        <div class="prompts centre-align">
            <a class="waves-effect waves-light btn modal-trigger" href="#prompt">Examinee prompt</a>
            <a class="waves-effect waves-light btn modal-trigger" href="#actor_prompt">Actor prompt</a>
        </div>
        <br/>
        <h4>Examination Criteria</h4>
            <!-- Modal Structure -->
            <div id="prompt" class="modal">
                <div class="modal-content">
                <h4>Examinee prompt</h4>
                <img src="./prompt_qr.png" class="responsive-img">
                </div>
                <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-green btn-flat">Done</a>
                </div>
            </div>
            <div id="actor_prompt" class="modal">
                <div class="modal-content">
                <h4>Actor prompt</h4>
                <img src="./actor_prompt_qr.png" class="responsive-img">
                </div>
                <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-green btn-flat">Done</a>
                </div>
            </div>


    <!-- Code for question list -->
        <div class="criteria">
            <ol class="criteria-list">
                
                <p><b><li class="crit">Introduces self appropriately and gains permission to examine. Puts patient at ease.</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="0_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="0_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="0_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="0_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">General inspection: Looks for deformity from behind and the side of the patient. Note loss or exaggeration of thoracic kyphosis and lumbar lordosis. Looks for scoliosis</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="1_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="1_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="1_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="1_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Feels: (1) each vertebral body for tenderness, (2) Palpates for muscle spasm</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="2_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="2_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="2_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="2_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Tests active movements: (1) Flexion/extension, (2) Lateral flexion, (3) Rotation</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="3_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="3_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="3_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="3_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Performs Schober&#39;s test: (1) Marks position of PSIS on vertebral column (about L5), (2) One finger placed 5cm below, other 10cm above, (3) Patient asked to touch toes, increase of less than 5cm inducative of limitation of lumbar flexion</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="4_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="4_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="4_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="4_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Assess straight leg raising: With patient lying down, passively lifts straightened leg. Will be limited by pain with a lumbar disc prolapse (less than 60 degrees)</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="5_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="5_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="5_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="5_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Instructs patient to lie on stomach to (1) look for gluteal muscle wasting, (2) palpate with both palms overlying each other to elicit SIJ tenderness (SIJ located just below PSIS)</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="6_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="6_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="6_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="6_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">If time permits, performs aspects of the lower limb neuro exam</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="7_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="7_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="7_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="7_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Performs a well structured examination</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="8_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="8_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="8_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="8_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Reports findings accurately to the examiner</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="9_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="9_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="9_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="9_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
                <p><b><li class="crit">Additional question: What would you expect to see if patient experiences pain during the straight leg raise?</li></b></p>
                <form action="#" class="criteria-form">
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="10_Not-Attempted"/>
                        <span>Not attempted</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="10_Not-Satisfactory"  />
                        <span>Not satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="10_Satisfactory" />
                        <span>Satisfactory</span>
                    </label>
                    <label>
                        <input name="crit" type="radio" class="with-gap", id="10_Better-than-expected"  />
                        <span>Better than expected</span>
                    </label>
                </form>
                </br>
            <!-- Code for comments section -->
            
            </ol>
        </br>
            <div class="row">
                <form class="col s12">
                  <div class="row">
                    <div class="input-field col s12">
                      <textarea id="comments" class="materialize-textarea"></textarea>
                      <label for="textarea1">Other comments</label>
                    </div>
                  </div>
                </form>
              </div>
            <a class="waves-effect waves-light btn", id = "save">Save Results</a>
        </div>
        <p>Contributor: WL</p> <br/>
    </div>
    <script>
        // Script to take the selected scores
        $("#save").click(function(){
            var doc = new jsPDF();
            var name = $("#name").val();
            var criteria = $(".criteria-form")
            var numQuestions = criteria.length
            var crit = $(".crit")
            var comments = $("#comments").val()
            var i
            doc.text(20, 20, name + ": Feedback sheet")
            doc.text(20, 30, "10000006: Lower back exam")
            doc.setFontSize(10)
            var pageNotSplit = true
            for (i = 0; i < numQuestions; i++){
                if (i > 10 && pageNotSplit){
                    doc.addPage()
                    pageNotSplit = false
                }
                if(i > 10 && !pageNotSplit){
                    doc.setTextColor(0)
                    var question = doc.splitTextToSize(crit[i].innerText, 170)
                    doc.text(25, 50 + (i-11) * 20, question)
                    for (var j = 0; j < 4; j++){
                        if (criteria[i][j].checked) {
                            doc.setTextColor(0, 0, 255)
                            doc.text(30, 60 + (i-11) * 20, criteria[i][j].id.split("_")[1].replace("-", " "))
                            // console.log(criteria[i][j])
                        }
                    }
                    
                } else{
                    doc.setTextColor(0)
                    var question = doc.splitTextToSize(crit[i].innerText, 170)
                    doc.text(25, 50 + i * 20, question)
                    for (var j = 0; j < 4; j++){
                        if (criteria[i][j].checked) {

                            doc.setTextColor(0, 0, 255)
                            doc.text(30, 60 + i * 20, criteria[i][j].id.split("_")[1].replace("-", " "))
                            // console.log(criteria[i][j])
                        }
                    }
                }
            }
            doc.addPage()
            doc.setTextColor(0)
            doc.text(20, 20, "Comments from the examiner")
            doc.setTextColor(0, 0, 255)
            var comm = doc.splitTextToSize(comments, 150)
            doc.text(30, 30, comm)
            doc.save(name + ".pdf")
            location.reload()
        })
    </script>
</body>
</html>